{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "languageVersion": "2.0",
  "contentVersion": "1.0.0.0",
  "metadata": {
    "_generator": {
      "name": "bicep",
      "version": "0.39.26.7824",
      "templateHash": "6985535719494197783"
    }
  },
  "definitions": {
    "tagsType": {
      "type": "object",
      "properties": {
        "applicationName": {
          "type": "string"
        },
        "contactEmail": {
          "type": "string"
        },
        "costCenter": {
          "type": "string"
        },
        "criticality": {
          "type": "string",
          "allowedValues": [
            "Tier0",
            "Tier1",
            "Tier2",
            "Tier3"
          ]
        },
        "dataClassification": {
          "type": "string",
          "allowedValues": [
            "Confidential",
            "Internal",
            "Secret",
            "Top Secret"
          ]
        },
        "environment": {
          "type": "string",
          "allowedValues": [
            "conn",
            "dev",
            "idam",
            "mgmt",
            "prd",
            "sbx",
            "tst"
          ]
        },
        "iac": {
          "type": "string",
          "allowedValues": [
            "Bicep"
          ]
        },
        "owner": {
          "type": "string"
        }
      },
      "additionalProperties": {
        "type": "string"
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Resource tags."
      }
    },
    "virtualNetworkType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "minLength": 1,
          "maxLength": 64,
          "metadata": {
            "description": "Optional. The name of the virtual network resource."
          }
        },
        "addressPrefixes": {
          "type": "array",
          "metadata": {
            "description": "Required. The address prefix of the virtual network to create."
          }
        },
        "ipamPoolNumberOfIpAddresses": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Number of IP addresses allocated from the pool. To be used only when the addressPrefix param is defined with a resource ID of an IPAM pool."
          }
        },
        "ddosProtectionPlanId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The DDoS protection plan ID to associate with the virtual network."
          }
        },
        "dnsServers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. DNS Servers associated to the Virtual Network."
          }
        },
        "disableBgpRoutePropagation": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. A value indicating whether this route overrides overlapping BGP routes regardless of LPM."
          }
        },
        "subnets": {
          "$ref": "#/definitions/subnetType",
          "metadata": {
            "description": "Required. The subnet type."
          }
        },
        "peerings": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/peeringType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Virtual Network Peering configurations."
          }
        },
        "lock": {
          "$ref": "#/definitions/lockType",
          "nullable": true,
          "metadata": {
            "description": "Optional. The lock settings of the service."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Virtual Network configuration."
      }
    },
    "subnetType": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 80,
            "metadata": {
              "description": "Required. The Name of the subnet resource."
            }
          },
          "addressPrefix": {
            "type": "string",
            "metadata": {
              "description": "Conditional. The address prefix for the subnet. Required if `addressPrefixes` is empty."
            }
          },
          "addressPrefixes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "metadata": {
              "description": "Conditional. List of address prefixes for the subnet. Required if `addressPrefix` is empty."
            }
          },
          "ipamPoolPrefixAllocations": {
            "type": "array",
            "prefixItems": [
              {
                "type": "object",
                "properties": {
                  "pool": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "metadata": {
                          "description": "Required. The Resource ID of the IPAM pool."
                        }
                      }
                    },
                    "metadata": {
                      "description": "Required. The Resource ID of the IPAM pool."
                    }
                  },
                  "numberOfIpAddresses": {
                    "type": "string",
                    "metadata": {
                      "description": "Required. Number of IP addresses allocated from the pool."
                    }
                  }
                }
              }
            ],
            "items": false,
            "nullable": true,
            "metadata": {
              "description": "Conditional. The address space for the subnet, deployed from IPAM Pool. Required if `addressPrefixes` and `addressPrefix` is empty and the VNet address space configured to use IPAM Pool."
            }
          },
          "applicationGatewayIPConfigurations": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "nullable": true,
            "metadata": {
              "description": "Optional. Application gateway IP configurations of virtual network resource."
            }
          },
          "delegation": {
            "type": "string",
            "nullable": true,
            "metadata": {
              "description": "Optional. The delegation to enable on the subnet."
            }
          },
          "natGatewayResourceId": {
            "type": "string",
            "nullable": true,
            "metadata": {
              "description": "Optional. The resource ID of the NAT Gateway to use for the subnet."
            }
          },
          "networkSecurityGroupResourceId": {
            "type": "string",
            "nullable": true,
            "metadata": {
              "description": "Optional. The resource ID of the network security group to assign to the subnet."
            }
          },
          "privateEndpointNetworkPolicies": {
            "type": "string",
            "allowedValues": [
              "Disabled",
              "Enabled",
              "NetworkSecurityGroupEnabled",
              "RouteTableEnabled"
            ],
            "nullable": true,
            "metadata": {
              "description": "Optional. enable or disable apply network policies on private endpoint in the subnet."
            }
          },
          "privateLinkServiceNetworkPolicies": {
            "type": "string",
            "allowedValues": [
              "Disabled",
              "Enabled"
            ],
            "nullable": true,
            "metadata": {
              "description": "Optional. enable or disable apply network policies on private link service in the subnet."
            }
          },
          "roleAssignments": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/roleAssignmentType"
            },
            "nullable": true,
            "metadata": {
              "description": "Optional. Array of role assignments to create."
            }
          },
          "routeTableResourceId": {
            "type": "string",
            "nullable": true,
            "metadata": {
              "description": "Optional. The resource ID of the route table to assign to the subnet."
            }
          },
          "routes": {
            "$ref": "#/definitions/routes",
            "nullable": true,
            "metadata": {
              "description": "Optional. An array of custom routes."
            }
          },
          "securityRules": {
            "$ref": "#/definitions/securityRules",
            "nullable": true,
            "metadata": {
              "description": "Optional. The security group rules to apply to the subnet."
            }
          },
          "serviceEndpointPolicies": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "nullable": true,
            "metadata": {
              "description": "Optional. An array of service endpoint policies."
            }
          },
          "serviceEndpoints": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "metadata": {
              "description": "Optional. The service endpoints to enable on the subnet."
            }
          },
          "defaultOutboundAccess": {
            "type": "bool",
            "nullable": true,
            "metadata": {
              "description": "Optional. Set this property to false to disable default outbound connectivity for all VMs in the subnet. This property can only be set at the time of subnet creation and cannot be updated for an existing subnet."
            }
          },
          "sharingScope": {
            "type": "string",
            "allowedValues": [
              "DelegatedServices",
              "Tenant"
            ],
            "nullable": true,
            "metadata": {
              "description": "Optional. Set this property to Tenant to allow sharing subnet with other subscriptions in your AAD tenant. This property can only be set if defaultOutboundAccess is set to false, both properties can only be set if subnet is empty."
            }
          }
        }
      },
      "metadata": {
        "description": "The type for subnets within a virtual network."
      }
    },
    "routes": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "metadata": {
              "description": "Required. Name of the route table route."
            }
          },
          "properties": {
            "type": "object",
            "properties": {
              "nextHopType": {
                "type": "string",
                "allowedValues": [
                  "Internet",
                  "None",
                  "VirtualAppliance",
                  "VirtualNetworkGateway",
                  "VnetLocal"
                ],
                "metadata": {
                  "description": "Required. The type of Azure hop the packet should be sent to."
                }
              },
              "addressPrefix": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The destination CIDR to which the route applies."
                }
              },
              "hasBgpOverride": {
                "type": "bool",
                "nullable": true,
                "metadata": {
                  "description": "Optional. A value indicating whether this route overrides overlapping BGP routes regardless of LPM."
                }
              },
              "nextHopIpAddress": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The IP address packets should be forwarded to. Next hop values are only allowed in routes where the next hop type is VirtualAppliance."
                }
              }
            },
            "metadata": {
              "description": "Required. Properties of the route table route."
            }
          }
        }
      },
      "nullable": true,
      "metadata": {
        "description": "The type for Route Table routes."
      }
    },
    "securityRules": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "metadata": {
              "description": "Required. The name of the security rule."
            }
          },
          "properties": {
            "type": "object",
            "properties": {
              "access": {
                "type": "string",
                "allowedValues": [
                  "Allow",
                  "Deny"
                ],
                "metadata": {
                  "description": "Required. Whether network traffic is allowed or denied."
                }
              },
              "description": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The description of the security rule."
                }
              },
              "destinationAddressPrefix": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The destination address prefix. CIDR or destination IP range. Asterisk \"*\" can also be used to match all source IPs. Default tags such as \"VirtualNetwork\", \"AzureLoadBalancer\" and \"Internet\" can also be used."
                }
              },
              "destinationAddressPrefixes": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The destination address prefixes. CIDR or destination IP ranges."
                }
              },
              "destinationApplicationSecurityGroupResourceIds": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The resource IDs of the application security groups specified as destination."
                }
              },
              "destinationPortRange": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The destination port or range. Integer or range between 0 and 65535. Asterisk \"*\" can also be used to match all ports."
                }
              },
              "destinationPortRanges": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The destination port ranges."
                }
              },
              "direction": {
                "type": "string",
                "allowedValues": [
                  "Inbound",
                  "Outbound"
                ],
                "metadata": {
                  "description": "Required. The direction of the rule. The direction specifies if rule will be evaluated on incoming or outgoing traffic."
                }
              },
              "priority": {
                "type": "int",
                "minValue": 100,
                "maxValue": 4096,
                "metadata": {
                  "description": "Required. Required. The priority of the rule. The value can be between 100 and 4096. The priority number must be unique for each rule in the collection. The lower the priority number, the higher the priority of the rule."
                }
              },
              "protocol": {
                "type": "string",
                "allowedValues": [
                  "*",
                  "Ah",
                  "Esp",
                  "Icmp",
                  "Tcp",
                  "Udp"
                ],
                "metadata": {
                  "description": "Required. Network protocol this rule applies to."
                }
              },
              "sourceAddressPrefix": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The CIDR or source IP range. Asterisk \"*\" can also be used to match all source IPs. Default tags such as \"VirtualNetwork\", \"AzureLoadBalancer\" and \"Internet\" can also be used. If this is an ingress rule, specifies where network traffic originates from."
                }
              },
              "sourceAddressPrefixes": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The CIDR or source IP ranges."
                }
              },
              "sourceApplicationSecurityGroupResourceIds": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The resource IDs of the application security groups specified as source."
                }
              },
              "sourcePortRange": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The source port or range. Integer or range between 0 and 65535. Asterisk \"*\" can also be used to match all ports."
                }
              },
              "sourcePortRanges": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "metadata": {
                  "description": "Optional. The source port ranges."
                }
              }
            },
            "metadata": {
              "description": "Required. The properties of the security rule."
            }
          }
        }
      },
      "nullable": true,
      "metadata": {
        "description": "The type for NSG security Rules."
      }
    },
    "peeringType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The Name of VNET Peering resource. If not provided, default value will be peer-localVnetName-remoteVnetName."
          }
        },
        "allowForwardedTraffic": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether the forwarded traffic from the VMs in the local virtual network will be allowed/disallowed in remote virtual network. Default is true."
          }
        },
        "allowGatewayTransit": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If gateway links can be used in remote virtual networking to link to this virtual network. Default is false."
          }
        },
        "allowVirtualNetworkAccess": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether the VMs in the local virtual network space would be able to access the VMs in remote virtual network space. Default is true."
          }
        },
        "doNotVerifyRemoteGateways": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Do not verify the provisioning state of the remote gateway. Default is true."
          }
        },
        "useRemoteGateways": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If remote gateways can be used on this virtual network. If the flag is set to true, and allowGatewayTransit on remote peering is also true, virtual network will use gateways of remote virtual network for transit. Only one peering can have this flag set to true. This flag cannot be set if virtual network already has a gateway. Default is false."
          }
        },
        "remotePeeringEnabled": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Deploy the outbound and the inbound peering."
          }
        },
        "remotePeeringName": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The name of the VNET Peering resource in the remove Virtual Network. If not provided, default value will be peer-remoteVnetName-localVnetName."
          }
        },
        "remotePeeringAllowForwardedTraffic": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether the forwarded traffic from the VMs in the local virtual network will be allowed/disallowed in remote virtual network. Default is true."
          }
        },
        "remotePeeringAllowGatewayTransit": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If gateway links can be used in remote virtual networking to link to this virtual network. Default is false."
          }
        },
        "remotePeeringAllowVirtualNetworkAccess": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether the VMs in the local virtual network space would be able to access the VMs in remote virtual network space. Default is true."
          }
        },
        "remotePeeringDoNotVerifyRemoteGateways": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Do not verify the provisioning state of the remote gateway. Default is true."
          }
        },
        "remotePeeringUseRemoteGateways": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If remote gateways can be used on this virtual network. If the flag is set to true, and allowGatewayTransit on remote peering is also true, virtual network will use gateways of remote virtual network for transit. Only one peering can have this flag set to true. This flag cannot be set if virtual network already has a gateway. Default is false."
          }
        }
      },
      "nullable": true,
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for peering configuration."
      }
    },
    "vwanPeeringType": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether to create virtual hub connection."
          }
        },
        "enableInternetSecurity": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Enable internet security."
          }
        },
        "routingIntentEnabled": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Indicates whether routing intent is enabled on the Virtual HUB within the virtual WAN."
          }
        },
        "associatedRouteTableResourceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The resource ID of the virtual hub route table to associate to the virtual hub connection (this virtual network). If left blank/empty default route table will be associated."
          }
        },
        "propagatedRouteTablesResourceIds": {
          "type": "array",
          "items": {
            "type": "array"
          },
          "metadata": {
            "description": "Optional. An array of virtual hub route table resource IDs to propagate routes to. If left blank/empty default route table will be propagated to only."
          }
        },
        "propagatedLabels": {
          "type": "array",
          "items": {
            "type": "array"
          },
          "metadata": {
            "description": "Optional. An array of virtual hub route table labels to propagate routes to. If left blank/empty default label will be propagated to only."
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Virtual WAN peering configuration (vWAN)."
      }
    },
    "actionGroupType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "minLength": 1,
          "maxLength": 260,
          "metadata": {
            "description": "Optional. The name of the Action Group."
          }
        },
        "groupShortName": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The shortname of the Action Group."
          }
        },
        "emailReceivers": {
          "type": "array",
          "nullable": true,
          "metadata": {
            "description": "Optional. The list of email receivers that are part of this action group."
          }
        },
        "tags": {
          "type": "object",
          "metadata": {
            "__bicep_resource_derived_type!": {
              "source": "Microsoft.Insights/actionGroups@2024-10-01-preview#properties/tags"
            },
            "description": "Optional. Tags of the resource."
          },
          "nullable": true
        },
        "lock": {
          "$ref": "#/definitions/lockType",
          "nullable": true,
          "metadata": {
            "description": "Optional. The lock settings of the service."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Action Group configuration."
      }
    },
    "budgetType": {
      "type": "object",
      "properties": {
        "budgets": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "minLength": 1,
                "maxLength": 63,
                "metadata": {
                  "description": "Required. The name of the budget."
                }
              },
              "category": {
                "type": "string",
                "allowedValues": [
                  "Cost",
                  "Usage"
                ],
                "nullable": true,
                "metadata": {
                  "description": "Optional. The category of the budget, whether the budget tracks cost or usage."
                }
              },
              "startDate": {
                "type": "string",
                "nullable": true,
                "metadata": {
                  "description": "Optional. The start date for the budget. Start date should be the first day of the month and cannot be in the past (except for the current month)."
                }
              },
              "amount": {
                "type": "int",
                "metadata": {
                  "description": "Required. The total amount of cost or usage to track with the budget."
                }
              },
              "thresholdType": {
                "type": "string",
                "allowedValues": [
                  "Actual",
                  "Forecasted"
                ],
                "nullable": true,
                "metadata": {
                  "description": "Optional. The type of threshold to use for the budget. The threshold type can be either `Actual` or `Forecasted`."
                }
              },
              "thresholds": {
                "type": "array",
                "nullable": true,
                "maxLength": 5,
                "metadata": {
                  "description": "Optional. Percent thresholds of budget for when to get a notification. Can be up to 5 thresholds, where each must be between 1 and 1000."
                }
              },
              "contactEmails": {
                "type": "array",
                "nullable": true,
                "metadata": {
                  "description": "Conditional. The list of email addresses to send the budget notification to when the thresholds are exceeded. Required if neither `contactRoles` nor `actionGroups` was provided."
                }
              }
            }
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Budgets"
      }
    },
    "roleAssignmentsType": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/roleAssignments"
      },
      "nullable": true,
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Role Assignment configuration."
      }
    },
    "roleAssignments": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated."
          }
        },
        "roleDefinitionIdOrName": {
          "type": "string",
          "metadata": {
            "description": "Required. The role to assign. You can provide either the display name of the role definition, the role definition GUID, or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."
          }
        },
        "principalId": {
          "type": "string",
          "metadata": {
            "description": "Required. The principal ID of the principal (user/group/identity) to assign the role to."
          }
        },
        "principalType": {
          "type": "string",
          "allowedValues": [
            "Device",
            "ForeignGroup",
            "Group",
            "ServicePrincipal",
            "User"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The principal type of the assigned principal ID."
          }
        },
        "description": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The description of the role assignment."
          }
        },
        "subscriptionId": {
          "type": "string",
          "nullable": true,
          "maxLength": 36,
          "metadata": {
            "description": "Subscription ID of the subscription to assign the RBAC role to. If no Resource Group name is provided, the module deploys at subscription level, therefore assigns the provided RBAC role to the subscription."
          }
        },
        "resourceGroupName": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Name of the Resource Group to assign the RBAC role to. If Resource Group name is provided, and Subscription ID is provided, the module deploys at resource group level, therefore assigns the provided RBAC role to the resource group."
          }
        },
        "condition": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The conditions on the role assignment. This limits the resources it can be assigned to. e.g.: @Resource[Microsoft.Storage/storageAccounts/blobServices/containers:ContainerName] StringEqualsIgnoreCase \"foo_storage_container\"."
          }
        },
        "conditionVersion": {
          "type": "string",
          "allowedValues": [
            "2.0"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Version of the condition."
          }
        },
        "delegatedManagedIdentityResourceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The Resource Id of the delegated managed identity resource."
          }
        }
      },
      "metadata": {
        "description": "The type for Role Assignments."
      }
    },
    "pimRoleAssignmentsType": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/pimRoleAssignments"
      },
      "nullable": true,
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Privileged Identity Management role assignment configuration."
      }
    },
    "pimRoleAssignments": {
      "type": "object",
      "properties": {
        "principalId": {
          "type": "string",
          "metadata": {
            "description": "Principal (user or service principal) object ID."
          }
        },
        "roleDefinitionIdOrName": {
          "type": "string",
          "metadata": {
            "description": "Required. You can provide either the display name of the role definition (must be configured in the variable `builtInRoleNames`), or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."
          }
        },
        "resourceGroupName": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Name of the Resource Group to assign the RBAC role to. If Resource Group name is provided, and Subscription ID is provided, the module deploys at resource group level, therefore assigns the provided RBAC role to the resource group."
          }
        },
        "subscriptionId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Subscription ID of the subscription to assign the RBAC role to. If no Resource Group name is provided, the module deploys at subscription level, therefore assigns the provided RBAC role to the subscription."
          }
        },
        "managementGroupId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Group ID of the Management Group to assign the RBAC role to. If not provided, will use the current scope for deployment."
          }
        },
        "pimRoleAssignmentType": {
          "type": "object",
          "metadata": {
            "description": "Required. The type of the PIM role assignment whether its active or eligible."
          }
        },
        "justification": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The justification for the role eligibility."
          }
        },
        "requestType": {
          "$ref": "#/definitions/requestTypeType",
          "metadata": {
            "description": "Required. The type of the role assignment eligibility request."
          }
        },
        "targetRoleEligibilityScheduleId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The resultant role eligibility assignment id or the role eligibility assignment id being updated."
          }
        },
        "targetRoleEligibilityScheduleInstanceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The role eligibility assignment instance id being updated."
          }
        },
        "targetRoleAssignmentScheduleId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The resultant role assignment schedule id or the role assignment schedule id being updated."
          }
        },
        "targetRoleAssignmentScheduleInstanceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The role assignment schedule instance id being updated."
          }
        },
        "ticketInfo": {
          "$ref": "#/definitions/ticketInfoType",
          "nullable": true,
          "metadata": {
            "description": "Optional. Ticket Info of the role eligibility."
          }
        },
        "condition": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The conditions on the role assignment. This limits the resources it can be assigned to."
          }
        },
        "conditionVersion": {
          "type": "string",
          "allowedValues": [
            "2.0"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Version of the condition. Currently accepted value is \"2.0\"."
          }
        }
      },
      "metadata": {
        "description": "The type for Privileged Identity Management role assignment."
      }
    },
    "storageAccountType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "maxLength": 24,
          "metadata": {
            "description": "Name of the Storage Account. Must be lower-case."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        },
        "lock": {
          "$ref": "#/definitions/lockType",
          "nullable": true,
          "metadata": {
            "description": "Optional. The lock settings of the service."
          }
        },
        "kind": {
          "type": "string",
          "allowedValues": [
            "BlobStorage",
            "BlockBlobStorage",
            "FileStorage",
            "Storage",
            "StorageV2"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Type of Storage Account to create."
          }
        },
        "sku": {
          "type": "string",
          "allowedValues": [
            "PremiumV2_LRS",
            "PremiumV2_ZRS",
            "Premium_LRS",
            "Premium_ZRS",
            "StandardV2_GRS",
            "StandardV2_GZRS",
            "StandardV2_LRS",
            "StandardV2_ZRS",
            "Standard_GRS",
            "Standard_GZRS",
            "Standard_LRS",
            "Standard_RAGRS",
            "Standard_RAGZRS",
            "Standard_ZRS"
          ],
          "metadata": {
            "description": "Optional. Storage account SKU. Defaults to 'Standard_ZRS'."
          }
        },
        "accessTier": {
          "type": "string",
          "allowedValues": [
            "Cold",
            "Cool",
            "Hot",
            "Premium"
          ],
          "metadata": {
            "description": "Conditional. Required if the Storage Account kind is set to BlobStorage. The access tier is used for billing. The \"Premium\" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type."
          }
        },
        "largeFileSharesState": {
          "type": "string",
          "allowedValues": [
            "Disabled",
            "Enabled"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Allow large file shares if set to 'Enabled'. It cannot be disabled once it is enabled. Only supported on locally redundant and zone redundant file shares. It cannot be set on FileStorage storage accounts (storage accounts for premium file shares)."
          }
        },
        "azureFilesIdentityBasedAuthentication": {
          "type": "object",
          "metadata": {
            "__bicep_resource_derived_type!": {
              "source": "Microsoft.Storage/storageAccounts@2024-01-01#properties/properties/properties/azureFilesIdentityBasedAuthentication"
            },
            "description": "Optional. Provides the identity based authentication settings for Azure Files."
          },
          "nullable": true
        },
        "defaultToOAuthAuthentication": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. A boolean flag which indicates whether the default authentication is OAuth or not."
          }
        },
        "allowSharedKeyAccess": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Indicates whether the storage account permits requests to be authorized with the account access key via Shared Key. If false, then all requests, including shared access signatures, must be authorized with Azure Active Directory (Azure AD). The default value is null, which is equivalent to true."
          }
        },
        "managementPolicyRules": {
          "type": "array",
          "nullable": true,
          "metadata": {
            "description": "Optional. The Storage Account ManagementPolicies Rules."
          }
        },
        "networkAcls": {
          "$ref": "#/definitions/storageNetworkAclsType",
          "nullable": true,
          "metadata": {
            "description": "Optional. Networks ACLs, this value contains IPs to whitelist and/or Subnet information. If in use, bypass needs to be supplied. For security reasons, it is recommended to set the DefaultAction Deny."
          }
        },
        "requireInfrastructureEncryption": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. A Boolean indicating whether or not the service applies a secondary layer of encryption with platform managed keys for data at rest. For security reasons, it is recommended to set it to true."
          }
        },
        "allowCrossTenantReplication": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Allow or disallow cross AAD tenant object replication."
          }
        },
        "customDomainName": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Sets the custom domain name assigned to the storage account. Name is the CNAME source."
          }
        },
        "customDomainUseSubDomainName": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Indicates whether indirect CName validation is enabled. This should only be set on updates."
          }
        },
        "dnsEndpointType": {
          "type": "string",
          "allowedValues": [
            "AzureDnsZone",
            "Standard"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Allows you to specify the type of endpoint. Set this to AzureDNSZone to create a large number of accounts in a single subscription, which creates accounts in an Azure DNS Zone and the endpoint URL will have an alphanumeric DNS Zone identifier."
          }
        },
        "allowBlobPublicAccess": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Indicates whether public access is enabled for all blobs or containers in the storage account. For security reasons, it is recommended to set it to false."
          }
        },
        "minimumTlsVersion": {
          "type": "string",
          "allowedValues": [
            "TLS1_2"
          ],
          "metadata": {
            "description": "Optional. Set the minimum TLS version on request to storage. The TLS versions 1.0 and 1.1 are deprecated and not supported anymore."
          }
        },
        "enableHierarchicalNamespace": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Conditional. If true, enables Hierarchical Namespace for the storage account. Required if enableSftp or enableNfsV3 is set to true."
          }
        },
        "enableSftp": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If true, enables Secure File Transfer Protocol for the storage account. Requires enableHierarchicalNamespace to be true."
          }
        },
        "localUsers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/localUserType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Local users to deploy for SFTP authentication."
          }
        },
        "isLocalUserEnabled": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Enables local users feature, if set to true."
          }
        },
        "enableNfsV3": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. If true, enables NFS 3.0 support for the storage account. Requires enableHierarchicalNamespace to be true."
          }
        },
        "tags": {
          "type": "object",
          "metadata": {
            "__bicep_resource_derived_type!": {
              "source": "Microsoft.Storage/storageAccounts@2024-01-01#properties/tags"
            },
            "description": "Optional. Tags of the resource."
          },
          "nullable": true
        },
        "allowedCopyScope": {
          "type": "string",
          "allowedValues": [
            "AAD",
            "PrivateLink"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Restrict copy to and from Storage Accounts within an AAD tenant or with Private Links to the same VNet."
          }
        },
        "publicNetworkAccess": {
          "type": "string",
          "allowedValues": [
            "Disabled",
            "Enabled"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkAcls are not set."
          }
        },
        "supportsHttpsTrafficOnly": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Allows HTTPS traffic only to storage service if sets to true."
          }
        },
        "sasExpirationPeriod": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The SAS expiration period. DD.HH:MM:SS."
          }
        },
        "sasExpirationAction": {
          "type": "string",
          "allowedValues": [
            "Block",
            "Log"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The SAS expiration action. Allowed values are Block and Log."
          }
        },
        "keyType": {
          "type": "string",
          "allowedValues": [
            "Account",
            "Service"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The keyType to use with Queue & Table services."
          }
        },
        "secretsExportConfiguration": {
          "$ref": "#/definitions/storageSecretsExportConfigurationType",
          "nullable": true,
          "metadata": {
            "description": "Optional. Key vault reference and secret settings for the module's secrets export."
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Storage Account configuration."
      }
    },
    "keyVaultType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "minLength": 3,
          "maxLength": 24,
          "metadata": {
            "description": "Optional. Name of the Azure Key Vault. Must be globally unique."
          }
        },
        "sku": {
          "type": "string",
          "allowedValues": [
            "premium",
            "standard"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Specifies the SKU for the vault."
          }
        },
        "enableSoftDelete": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Switch to enable/disable Key Vault's soft delete feature."
          }
        },
        "enableRbacAuthorization": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Property that controls how data actions are authorized. When true, the key vault will use Role Based Access Control (RBAC) for authorization of data actions, and the access policies specified in vault properties will be ignored. When false, the key vault will use the access policies specified in vault properties, and any policy stored on Azure Resource Manager will be ignored. Note that management actions are always authorized with RBAC."
          }
        },
        "createMode": {
          "type": "string",
          "allowedValues": [
            "default",
            "recover"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The vault's create mode to indicate whether the vault need to be recovered or not. - recover or default."
          }
        },
        "softDeleteRetentionInDays": {
          "type": "int",
          "nullable": true,
          "minValue": 7,
          "maxValue": 90,
          "metadata": {
            "description": "Optional. softDelete data retention days. It accepts >=7 and <=90."
          }
        },
        "enablePurgeProtection": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Provide 'true' to enable Key Vault's purge protection feature."
          }
        },
        "publicNetworkAccess": {
          "type": "string",
          "allowedValues": [
            "",
            "Disabled",
            "Enabled"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. This value can be set to 'Enabled' to avoid breaking changes on existing customer resources and templates. If set to 'Disabled', traffic over public interface is not allowed, and private endpoint connections would be the exclusive access method."
          }
        },
        "accessPolicies": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/accessPolicyType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. All access policies to create."
          }
        },
        "secrets": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/secretType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. All secrets to create."
          }
        },
        "networkAcls": {
          "$ref": "#/definitions/keyVaultNetworkAclsType",
          "nullable": true,
          "metadata": {
            "description": "Optional. Rules governing the accessibility of the resource from specific network locations."
          }
        },
        "tags": {
          "type": "object",
          "metadata": {
            "__bicep_resource_derived_type!": {
              "source": "Microsoft.KeyVault/vaults@2024-11-01#properties/tags"
            },
            "description": "Optional. Resource tags."
          },
          "nullable": true
        },
        "lock": {
          "$ref": "#/definitions/lockType",
          "nullable": true,
          "metadata": {
            "description": "Optional. The lock settings of the service."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure Key Vault configuration."
      }
    },
    "userAssignedIdentityType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "minLength": 5,
          "maxLength": 128,
          "metadata": {
            "description": "Optional. The name of the User Assigned Identity."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        },
        "lock": {
          "$ref": "#/definitions/lockType",
          "nullable": true,
          "metadata": {
            "description": "Optional. The lock settings of the service."
          }
        },
        "resourceGroupName": {
          "type": "string",
          "metadata": {
            "description": "Required. The name of the resource group containing the user assigned identity."
          }
        },
        "roleDefinitionIdOrName": {
          "type": "string",
          "metadata": {
            "description": "Required. The role to assign. You can provide either the display name of the role definition, the role definition GUID, or its fully qualified ID in the following format: /providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11"
          }
        }
      },
      "metadata": {
        "__bicep_export!": true,
        "description": "The type for Azure User Assigned Identity configuration."
      }
    },
    "_1.roleAssignmentType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated."
          }
        },
        "roleDefinitionIdOrName": {
          "type": "string",
          "metadata": {
            "description": "Required. The role to assign. You can provide either the display name of the role definition, the role definition GUID, or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."
          }
        },
        "principalId": {
          "type": "string",
          "metadata": {
            "description": "Required. The principal ID of the principal (user/group/identity) to assign the role to."
          }
        },
        "principalType": {
          "type": "string",
          "allowedValues": [
            "Device",
            "ForeignGroup",
            "Group",
            "ServicePrincipal",
            "User"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The principal type of the assigned principal ID."
          }
        },
        "description": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The description of the role assignment."
          }
        },
        "condition": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The conditions on the role assignment. This limits the resources it can be assigned to. e.g.: @Resource[Microsoft.Storage/storageAccounts/blobServices/containers:ContainerName] StringEqualsIgnoreCase \"foo_storage_container\"."
          }
        },
        "conditionVersion": {
          "type": "string",
          "allowedValues": [
            "2.0"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Version of the condition."
          }
        },
        "delegatedManagedIdentityResourceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The Resource Id of the delegated managed identity resource."
          }
        }
      },
      "metadata": {
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/key-vault/vault:0.13.3"
        },
        "description": "An AVM-aligned type for a role assignment."
      }
    },
    "_2.permissionScopeType": {
      "type": "object",
      "properties": {
        "permissions": {
          "type": "string",
          "metadata": {
            "description": "Required. The permissions for the local user. Possible values include: Read (r), Write (w), Delete (d), List (l), and Create (c)."
          }
        },
        "resourceName": {
          "type": "string",
          "metadata": {
            "description": "Required. The name of resource, normally the container name or the file share name, used by the local user."
          }
        },
        "service": {
          "type": "string",
          "metadata": {
            "description": "Required. The service used by the local user, e.g. blob, file."
          }
        }
      },
      "metadata": {
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/storage/storage-account:0.30.0"
        }
      }
    },
    "_2.sshAuthorizedKeyType": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Description used to store the function/usage of the key."
          }
        },
        "key": {
          "type": "securestring",
          "metadata": {
            "description": "Required. SSH public key base64 encoded. The format should be: '{keyType} {keyData}', e.g. ssh-rsa AAAABBBB."
          }
        }
      },
      "metadata": {
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/storage/storage-account:0.30.0"
        }
      }
    },
    "accessPolicyType": {
      "type": "object",
      "properties": {
        "tenantId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The tenant ID that is used for authenticating requests to the key vault."
          }
        },
        "objectId": {
          "type": "string",
          "metadata": {
            "description": "Required. The object ID of a user, service principal or security group in the tenant for the vault."
          }
        },
        "applicationId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Application ID of the client making request on behalf of a principal."
          }
        },
        "permissions": {
          "type": "object",
          "properties": {
            "keys": {
              "type": "array",
              "allowedValues": [
                "all",
                "backup",
                "create",
                "decrypt",
                "delete",
                "encrypt",
                "get",
                "getrotationpolicy",
                "import",
                "list",
                "purge",
                "recover",
                "release",
                "restore",
                "rotate",
                "setrotationpolicy",
                "sign",
                "unwrapKey",
                "update",
                "verify",
                "wrapKey"
              ],
              "nullable": true,
              "metadata": {
                "description": "Optional. Permissions to keys."
              }
            },
            "secrets": {
              "type": "array",
              "allowedValues": [
                "all",
                "backup",
                "delete",
                "get",
                "list",
                "purge",
                "recover",
                "restore",
                "set"
              ],
              "nullable": true,
              "metadata": {
                "description": "Optional. Permissions to secrets."
              }
            },
            "certificates": {
              "type": "array",
              "allowedValues": [
                "all",
                "backup",
                "create",
                "delete",
                "deleteissuers",
                "get",
                "getissuers",
                "import",
                "list",
                "listissuers",
                "managecontacts",
                "manageissuers",
                "purge",
                "recover",
                "restore",
                "setissuers",
                "update"
              ],
              "nullable": true,
              "metadata": {
                "description": "Optional. Permissions to certificates."
              }
            },
            "storage": {
              "type": "array",
              "allowedValues": [
                "all",
                "backup",
                "delete",
                "deletesas",
                "get",
                "getsas",
                "list",
                "listsas",
                "purge",
                "recover",
                "regeneratekey",
                "restore",
                "set",
                "setsas",
                "update"
              ],
              "nullable": true,
              "metadata": {
                "description": "Optional. Permissions to storage accounts."
              }
            }
          },
          "metadata": {
            "description": "Required. Permissions the identity has for keys, secrets and certificates."
          }
        }
      },
      "metadata": {
        "description": "The type for an access policy.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/key-vault/vault:0.13.3"
        }
      }
    },
    "keyVaultNetworkAclsType": {
      "type": "object",
      "properties": {
        "bypass": {
          "type": "string",
          "allowedValues": [
            "AzureServices",
            "None"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The bypass options for traffic for the network ACLs."
          }
        },
        "defaultAction": {
          "type": "string",
          "allowedValues": [
            "Allow",
            "Deny"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The default action for the network ACLs, when no rule matches."
          }
        },
        "ipRules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "value": {
                "type": "string",
                "metadata": {
                  "description": "Required. An IPv4 address range in CIDR notation, such as \"124.56.78.91\" (simple IP address) or \"124.56.78.0/24\"."
                }
              }
            }
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. A list of IP rules."
          }
        },
        "virtualNetworkRules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "metadata": {
                  "description": "Required. The resource ID of the virtual network subnet."
                }
              },
              "ignoreMissingVnetServiceEndpoint": {
                "type": "bool",
                "nullable": true,
                "metadata": {
                  "description": "Optional. Whether NRP will ignore the check if parent subnet has serviceEndpoints configured."
                }
              }
            }
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. A list of virtual network rules."
          }
        }
      },
      "metadata": {
        "description": "The type for rules governing the accessibility of the key vault from specific network locations.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/key-vault/vault:0.13.3",
          "originalIdentifier": "networkAclsType"
        }
      }
    },
    "localUserType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "metadata": {
            "description": "Required. The name of the local user used for SFTP Authentication."
          }
        },
        "hasSharedKey": {
          "type": "bool",
          "nullable": true,
          "metadata": {
            "description": "Optional. Indicates whether shared key exists. Set it to false to remove existing shared key."
          }
        },
        "hasSshKey": {
          "type": "bool",
          "metadata": {
            "description": "Required. Indicates whether SSH key exists. Set it to false to remove existing SSH key."
          }
        },
        "hasSshPassword": {
          "type": "bool",
          "metadata": {
            "description": "Required. Indicates whether SSH password exists. Set it to false to remove existing SSH password."
          }
        },
        "homeDirectory": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The local user home directory."
          }
        },
        "permissionScopes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/_2.permissionScopeType"
          },
          "metadata": {
            "description": "Required. The permission scopes of the local user."
          }
        },
        "sshAuthorizedKeys": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/_2.sshAuthorizedKeyType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. The local user SSH authorized keys for SFTP."
          }
        }
      },
      "metadata": {
        "description": "The type of a local user.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/storage/storage-account:0.30.0"
        }
      }
    },
    "lockType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Specify the name of lock."
          }
        },
        "kind": {
          "type": "string",
          "allowedValues": [
            "CanNotDelete",
            "None",
            "ReadOnly"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Specify the type of lock."
          }
        },
        "notes": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. Specify the notes of the lock."
          }
        }
      },
      "metadata": {
        "description": "An AVM-aligned type for a lock.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/utl/types/avm-common-types:0.6.1"
        }
      }
    },
    "requestTypeType": {
      "type": "string",
      "allowedValues": [
        "AdminAssign",
        "AdminExtend",
        "AdminRemove",
        "AdminRenew",
        "AdminUpdate",
        "SelfActivate",
        "SelfDeactivate",
        "SelfExtend",
        "SelfRenew"
      ],
      "metadata": {
        "description": "Optional. The request type of the role assignment.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/ptn/authorization/pim-role-assignment:0.1.2"
        }
      }
    },
    "roleAssignmentType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated."
          }
        },
        "roleDefinitionIdOrName": {
          "type": "string",
          "metadata": {
            "description": "Required. The role to assign. You can provide either the display name of the role definition, the role definition GUID, or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."
          }
        },
        "principalId": {
          "type": "string",
          "metadata": {
            "description": "Required. The principal ID of the principal (user/group/identity) to assign the role to."
          }
        },
        "principalType": {
          "type": "string",
          "allowedValues": [
            "Device",
            "ForeignGroup",
            "Group",
            "ServicePrincipal",
            "User"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. The principal type of the assigned principal ID."
          }
        },
        "description": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The description of the role assignment."
          }
        },
        "condition": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The conditions on the role assignment. This limits the resources it can be assigned to. e.g.: @Resource[Microsoft.Storage/storageAccounts/blobServices/containers:ContainerName] StringEqualsIgnoreCase \"foo_storage_container\"."
          }
        },
        "conditionVersion": {
          "type": "string",
          "allowedValues": [
            "2.0"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Version of the condition."
          }
        },
        "delegatedManagedIdentityResourceId": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The Resource Id of the delegated managed identity resource."
          }
        }
      },
      "metadata": {
        "description": "An AVM-aligned type for a role assignment.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/utl/types/avm-common-types:0.6.1"
        }
      }
    },
    "secretType": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "metadata": {
            "description": "Required. The name of the secret."
          }
        },
        "tags": {
          "type": "object",
          "nullable": true,
          "metadata": {
            "description": "Optional. Resource tags."
          }
        },
        "attributes": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "bool",
              "nullable": true,
              "metadata": {
                "description": "Optional. Defines whether the secret is enabled or disabled."
              }
            },
            "exp": {
              "type": "int",
              "nullable": true,
              "metadata": {
                "description": "Optional. Defines when the secret will become invalid. Defined in seconds since 1970-01-01T00:00:00Z."
              }
            },
            "nbf": {
              "type": "int",
              "nullable": true,
              "metadata": {
                "description": "Optional. If set, defines the date from which onwards the secret becomes valid. Defined in seconds since 1970-01-01T00:00:00Z."
              }
            }
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Contains attributes of the secret."
          }
        },
        "contentType": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The content type of the secret."
          }
        },
        "value": {
          "type": "securestring",
          "metadata": {
            "description": "Required. The value of the secret. NOTE: \"value\" will never be returned from the service, as APIs using this model are is intended for internal use in ARM deployments. Users should use the data-plane REST service for interaction with vault secrets."
          }
        },
        "roleAssignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/_1.roleAssignmentType"
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Array of role assignments to create."
          }
        }
      },
      "metadata": {
        "description": "The type for a secret output.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/key-vault/vault:0.13.3"
        }
      }
    },
    "storageNetworkAclsType": {
      "type": "object",
      "properties": {
        "resourceAccessRules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "tenantId": {
                "type": "string",
                "metadata": {
                  "description": "Required. The ID of the tenant in which the resource resides in."
                }
              },
              "resourceId": {
                "type": "string",
                "metadata": {
                  "description": "Required. The resource ID of the target service. Can also contain a wildcard, if multiple services e.g. in a resource group should be included."
                }
              }
            }
          },
          "nullable": true,
          "metadata": {
            "description": "Optional. Sets the resource access rules. Array entries must consist of \"tenantId\" and \"resourceId\" fields only."
          }
        },
        "bypass": {
          "type": "string",
          "allowedValues": [
            "AzureServices",
            "AzureServices, Logging",
            "AzureServices, Logging, Metrics",
            "AzureServices, Metrics",
            "Logging",
            "Logging, Metrics",
            "Metrics",
            "None"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Specifies whether traffic is bypassed for Logging/Metrics/AzureServices. Possible values are any combination of Logging,Metrics,AzureServices (For example, \"Logging, Metrics\"), or None to bypass none of those traffics."
          }
        },
        "virtualNetworkRules": {
          "type": "array",
          "nullable": true,
          "metadata": {
            "description": "Optional. Sets the virtual network rules."
          }
        },
        "ipRules": {
          "type": "array",
          "nullable": true,
          "metadata": {
            "description": "Optional. Sets the IP ACL rules."
          }
        },
        "defaultAction": {
          "type": "string",
          "allowedValues": [
            "Allow",
            "Deny"
          ],
          "nullable": true,
          "metadata": {
            "description": "Optional. Specifies the default action of allow or deny when no other rules match."
          }
        }
      },
      "metadata": {
        "description": "The type for the network configuration.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/storage/storage-account:0.30.0",
          "originalIdentifier": "networkAclsType"
        }
      }
    },
    "storageSecretsExportConfigurationType": {
      "type": "object",
      "properties": {
        "keyVaultResourceId": {
          "type": "string",
          "metadata": {
            "description": "Required. The key vault name where to store the keys and connection strings generated by the modules."
          }
        },
        "accessKey1Name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The accessKey1 secret name to create."
          }
        },
        "connectionString1Name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The connectionString1 secret name to create."
          }
        },
        "accessKey2Name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The accessKey2 secret name to create."
          }
        },
        "connectionString2Name": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The connectionString2 secret name to create."
          }
        }
      },
      "metadata": {
        "description": "The type of the exported secrets.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/res/storage/storage-account:0.30.0",
          "originalIdentifier": "secretsExportConfigurationType"
        }
      }
    },
    "ticketInfoType": {
      "type": "object",
      "properties": {
        "ticketNumber": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The ticket number for the role eligibility assignment."
          }
        },
        "ticketSystem": {
          "type": "string",
          "nullable": true,
          "metadata": {
            "description": "Optional. The ticket system name for the role eligibility assignment."
          }
        }
      },
      "metadata": {
        "description": "The type for a ticket info.",
        "__bicep_imported_from!": {
          "sourceTemplate": "br:mcr.microsoft.com/bicep/avm/ptn/authorization/pim-role-assignment:0.1.2"
        }
      }
    }
  },
  "resources": {}
}